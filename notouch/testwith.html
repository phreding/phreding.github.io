<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Story</title>

    <script src="http://olado.github.io/doT/doT.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="dedalus.js"></script>
    <script src="dedalus-web.js"></script>

    <link rel="stylesheet" href="themes/plain/story.css">

</head>
<body>
    <div id="story">

        <initscript>
        </initscript>

        <beforeEveryThing>
        </beforeEveryThing>

        <beforeEveryPageTurn>
        </beforeEveryPageTurn>

        <beforeEveryParagraphShown>
        </beforeEveryParagraphShown>

        <afterEveryThing>
        </afterEveryThing>

        <afterEveryPageTurn>
        </afterEveryPageTurn>

        <afterEveryParagraphShown>
        </afterEveryParagraphShown>

        <!-- Novel -->
        <title>This is a Place Holder</title>
        <page id="intro">
            The year is 2175. 
        </page>
        <page id="levelone" class="first">
            Stuff. <interact with='neutronmancerKey'>A key</interact>. Now <turn to='doorRoom'>go to room</turn>
        </page>
        
        <obj id="neutronmancerKey" inventoryName="Key of the Neutronmancer">
            <action id="Use">
                <with id="morrisonDoor">
                    You hear a distant voice chanting: "This is the end, my only friend, the end...". But nothing happens.
                </with>
                <with id="blueDoor">
                    The door unlocks silently.
                </with>
                You try, and try again, but without any appreciable result.
            </action>
            <action id="Examine">
                Seems like a normal 21st century schizoid key.
            </action>
            <action id='Take'>
                In inventory.
                {{story.putInInventory("neutronmancerKey");}}
            </action>
        </obj>
        
        <obj id='morrisonDoor' inventoryName='Morrison Door'>
            <action id="Use">
                <with id="neutronmancerKey">
                    Coolness.
                </with>
            </action>
        </obj>
        <obj id='blueDoor' inventoryName='Blue Door'>
        </obj>
        <obj id='redDoor' inventoryName='Red Door'>
        </obj>

        <page id="doorRoom">
            You are in a room poorly described. You can see three doors: a <interact with="morrisonDoor">Morrison Door</interact>, a <interact with="blueDoor">blue door</interact> and a <interact with="redDoor">red door</interact>
        </page>
    </div>
    
        <div id="wrapper">
        <div id="title"></div>

        <div id="inventoryHostWrapper">
            <h2>Inventory</h2>
            <div id="inventoryHost"></div>
        </div>

        <div id="host"></div>
    </div>

    <div id="interactionHost"></div>

    <div id="undoStageHost"></div>

    <div id="footer">
        <a id="undoHost" href="#">Undo</a> &bull; <a id="saveHost" href="#">Save</a> &bull; <a id="restoreHost" href="#">Restore</a> &bull; <a id="reseteHost" href="#">Reset</a>
    </div>

    <script>
        $(function () {
            new DedalusWeb({
                domSource         : $('#story'),
                domTarget         : $('#host'),
                titleTarget       : $('#title'),
                inventoryTarget   : $('#inventoryHost'),
                interactionTarget : $('#interactionHost'),
                undoTarget        : $('#undoHost'),
                undoStageTarget   : $('#undoStageHost'),
                saveTarget        : $('#saveHost'),
                restoreTarget     : $('#restoreHost'),
                resetTarget       : $('#reseteHost'),
            });
        });

    </script>
</body>
</html>